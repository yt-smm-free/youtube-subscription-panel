<% layout('layout') -%>
<!-- <%- include('layout', { showNav: false, meta: { googleClientId: process.env.YOUTUBE_CLIENT_ID } }) %> -->
<div class="auth-container">
    <div class="auth-box">
        <div class="auth-header">
            <h2 class="glitch-text">YouTube Authorization</h2>
        </div>
        
        <div class="auth-content">
            <div class="terminal-mini">
                <div class="terminal-header">
                    <span class="terminal-button red"></span>
                    <span class="terminal-button yellow"></span>
                    <span class="terminal-button green"></span>
                    <span class="terminal-title">secure_connection</span>
                </div>
                <div class="terminal-body">
                    <div class="line">$ <span class="command">initializing_secure_connection</span></div>
                    <div class="line">$ <span class="response">Connection established...</span></div>
                    <div class="line">$ <span class="command">preparing_youtube_auth</span></div>
                    <div class="line">$ <span class="response">Ready for authorization...</span></div>
                    <div class="line">$ <span class="cursor"></span></div>
                </div>
            </div>
            
            <p class="auth-message">
                To continue, you need to authorize this application to access your YouTube account.
                This will allow the system to subscribe to channels on your behalf.
            </p>
            
            <div class="auth-actions">
                <a href="<%= authUrl %>" class="btn btn-youtube">
                    <span class="btn-icon">â–¶</span>
                    Authorize with YouTube
                </a>
            </div>
            
            <div class="auth-info">
                <p>Your login ID: <span class="highlight"><%= loginId %></span></p>
                <p class="auth-note">Note: This application will only subscribe to channels when instructed by an admin.</p>
            </div>
        </div>
    </div>
</div>

<script>
    // Terminal typing animation
    document.addEventListener('DOMContentLoaded', function() {
        const cursor = document.querySelector('.cursor');
        setInterval(() => {
            cursor.style.opacity = cursor.style.opacity === '0' ? '1' : '0';
        }, 500);
    });
</script>